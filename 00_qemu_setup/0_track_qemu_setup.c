###########################################################################################
Setting up QEMU-KVM for kernel development
https://www.collabora.com/news-and-blog/blog/2017/01/16/setting-up-qemu-kvm-for-kernel-development/

###########################################################################################

1. uname -r
5.15.0-79-generic

2. sudo cp /boot/vmlinuz-5.15.0-79-generic .

3. run qemu
sudo qemu-system-x86_64 -kernel /boot/vmlinuz-`uname -r`
		OR
qemu-system-x86_64 -kernel ./vmlinuz-5.15.0-79-generic -append "console=ttyS0" -nographic

###########################################################################################
- Adding rootfs

IMG=qemu-image.img
DIR=root-mount-point.dir
qemu-img create $IMG 1g
mkfs.ext2 $IMG
mkdir $DIR
sudo mount -o loop $IMG $DIR
#sudo debootstrap --arch amd64 jessie $DIR
#sudo debootstrap --no-check-gpg --arch amd64 jessie ./mount-point.dir http://archive.debian.org/debian
sudo debootstrap --no-check-gpg --arch amd64 jessie $DIR http://archive.debian.org/debian
sudo umount $DIR
#rmdir $DIR

###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################


###########################################################################################



